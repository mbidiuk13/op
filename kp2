#include <stdio.h>
#include <math.h>

int main()
{
    char exitChar;
    do
    {
        double a=0, b=0, c=0;
        int n=0;
        int valid_input = 0;
        while (!valid_input)

        {
            printf("This program calculates perimeter, area, height, median and bisector of the sides of a triangle");

            printf("\nEnter the value of the side a: ");
            scanf("%lf", &a);
            if (a <= 0)
            {
                printf("Invalid input, try again\n");
                continue;
            }

            printf("Enter the value of the side b: ");
            scanf("%lf", &b);
            if (b <= 0)
            {
                printf("Invalid input, try again\n");
                continue;
            }

            printf("Enter the value of the side c: ");
            scanf("%lf", &c);
            if (c <= 0)
            {
                printf("Invalid input, try again\n");
                continue;
            }

            if (((a+b)<c) || ((a+c)<b) || ((b+c)<a))
            {
                printf("Invalid input, there is no such triangle, try again\n");
                continue;
            }

            printf("Enter the number of decimal places from 0 to 12: ");
            scanf("%d", &n);
            if (n < 0 || n > 12)
            {
                printf("Invalid number of decimal places, try again\n");
                continue;
            }
            valid_input ++;
        }

        double perimeter=(a+b+c);
        printf("\nPerimeter: %.*lf", n, perimeter);

        double p=perimeter/2;
        double area=sqrt(p*(p-a)*(p-b)*(p-c));
        printf("\nArea: %.*lf", n, area);

        double Ha=(2*area/a);
        printf("\nHeight(a): %.*lf", n, Ha);

        double Hb=(2*area/b);
        printf("\nHeight(b): %.*lf", n, Hb);

        double Hc=(2*area/c);
        printf("\nHeight(c): %.*lf", n, Hc);

        double Ma=(sqrt(2*pow(b,2)+2*pow(c,2)-pow(a,2)))/2;
        printf("\nMedian(a): %.*lf", n, Ma);

        double Mb=(sqrt(2*pow(a,2)+2*pow(c,2)-pow(b,2))/2);
        printf("\nMedian(b): %.*lf", n, Mb);

        double Mc=(sqrt(2*pow(a,2)+2*pow(b,2)-pow(c,2))/2);
        printf("\nMedian(c): %.*lf", n, Mc);

        double Ba=(2*sqrt(b*c*p*(p-a)))/(b+c);
        printf("\nBisector(a): %.*lf", n, Ba);

        double Bb=(2*sqrt(a*c*p*(p-b)))/(a+c);
        printf("\nBisector(b): %.*lf", n, Bb);

        double Bc=(2*sqrt(a*b*p*(p-c)))/(a+b);
        printf("\nBisector(c): %.*lf", n, Bc);

        printf("\nWould you like to exit? (y/n): ");
        scanf(" %c", &exitChar);

    }
    while (exitChar!= 'y' && exitChar != 'Y');
    return 0;
}
